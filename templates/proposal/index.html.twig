{% extends 'base.html.twig' %}

{% block title %}Proposal index{% endblock %}

{% block body %}
        <div class="container mt-5">
            <div class="row mt-5 pt-5 mb-5">
                <div class="col text-center">
                    <h3>Proposez votre vision du <b><i>nouveau monde</i></b>.</h3>
                </div>
            </div>
            <div class="row justify-content-center">
                {% for proposal in proposals %}
                    <div class="col-4">
                        <a href="{{ path('proposal_show', {'id': proposal.id}) }}" class="reset">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="card-title">{{ proposal.title }} <span class="text-white badge">{{ proposal.likes|length }}</span></h5>
                                    <p class="card-text">{{ proposal.author.firstName }}</p>
                                    {% if app.user%}
                                        <a href="{{ path('proposal_like', { id: proposal.id }) }}" class=" mt-3 btn ">Accord</a>
                                        <a href="{{ path('proposal_dislike', { id: proposal.id }) }}" class=" mt-3 btn ">DÃ©saccord</a>
                                    {% endif %}
                                </div>
                            </div>
                        </a>
                    </div>
                {% else %}
                    <div class="col text-center">
                        <p>No proposal found</p>
                    </div>
                {% endfor %}
            </div>
        </div>
{% endblock %}
